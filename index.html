<!DOCTYPE html>
<html>
<head>
    <title>Permolat Mapping System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script type="module" src="src/main.mjs"></script>
    <style>
        /* Responsive split: stack vertically on narrow screens */
        @media (max-width: 768px) {
            .split-row {
                display: block !important;
            }
            .split-col {
                width: 100% !important;
                margin-bottom: 0px;
            }
        }
        .split-row {
            display: flex;
            min-height: 300px;
            gap: 16px;
        }
        .split-col {
            display: flex;
            flex-direction: column;
            justify-content: stretch;
        }
        .map{
          height: 400px;
          width: 100%;
        }

        .modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; /* Enable scroll if needed */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 500px;
    }

    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
    </style>
</head>
<body>

    <!-- Top Navigation Bar -->
    <div class="w3_container w3-bar w3-red w3-mobile w3-top" style="height:90px">
      <div class="w3-bar-item w3-mobile w3-left"><img src="images/permolat.jpg" style="padding-top:5px"/></div> 
      <div class="w3-bar-item w3-mobile w3-left"><h3 style="color:black; font-weight:bold">Permolat community tracks</h3></div> 
      <div class="w3-bar-item w3-button w3-mobile w3-middle"><h6 id="total_length" style="color:rgb(255, 255, 255); font-weight:normal"></h6></div>
      <div class="w3-bar-item w3-mobile w3-right w3-display-bottom w3-display-bottom"><p id="username_field"><p></div>
      <div class="w3-bar-item w3-button w3-mobile w3-right" id="login">Login</div>
      <div class="w3-bar-item w3-button w3-mobile w3-right">Get involved</div>
      <div class="w3-bar-item w3-button w3-mobile w3-right">About</div>


        <!-- Login modal-->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Login</h2>
                <form id="loginForm">
                    <p> This is a test login</p>
                    <input type="text" placeholder="Username" required id="login_name">
                    <input type="text" placeholder="Email" required id="login_email">
                    <input type="password" placeholder="Password" id="login_password">
                    <button type="button" id="login_submit_button">Login</button>
                </form>
            </div>
        </div>

    </div>

    <!-- Space for navbar -->
    <div style="margin-top:100px"></div>

    <!-- Responsive Row (2/3 left, 1/3 right on desktop, stacked on mobile) -->
    <div class="w3-container" id="root">
        <div class="split-row">
            <!-- Left Pane (2/3 width on desktop) -->
            <div class="split-col" style="width:66.66%; height:900px">       
                  <!-- Div to hold the map object, map is loaded dynamically at load time through the Javascript library-->
                  <div id="map" class="map"></div>
                  <!-- Button to reopen panel-->
                  
            </div>

            <!-- Right Pane (1/3 width on desktop) -->
            <div class="split-col" style="width:33.33%;">
                <div class="w3-pale-green w3-round-large" id="dynamicContent" style="height:900px;">
                  <pre id="title"></pre>  
                  <div id="info" style="height:500px; overflow:auto" ></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom panel (full width) --> 
    <div id="bottom-panel" class="w3-container w3-green w3-center" style="margin-top:15px;">

    </div>
    

</body>
</html>